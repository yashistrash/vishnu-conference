<?xml version="1.0" encoding="UTF-8"?>
<diagram name="system_architecture">
    <![CDATA[
╔═══════════════════════════════════════════════════════════════════════════╗
║                    THREE-TIER SYSTEM ARCHITECTURE                         ║
╚═══════════════════════════════════════════════════════════════════════════╝


                            SENSING LAYER
    ┌──────────────────────────────────────────────────────────────┐
    │                                                              │
    │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
    │  │ Capacitive   │  │    Rain      │  │     pH       │      │
    │  │ Soil Moisture│  │   Sensor     │  │   Sensor     │      │
    │  │   Sensor     │  │              │  │              │      │
    │  │   0-100%     │  │   Digital    │  │  pH 0-14     │      │
    │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘      │
    │         │                 │                 │              │
    │  ┌──────┴─────────────────┴─────────────────┴──────┐       │
    │  │              ┌──────────────┐                    │       │
    │  │              │    DHT22     │                    │       │
    │  │              │ Temperature  │                    │       │
    │  │              │ & Humidity   │                    │       │
    │  │              └──────┬───────┘                    │       │
    │  └─────────────────────┼────────────────────────────┘       │
    │                        │                                    │
    │     └────────────────────────┼────────────────────────────────────┘
    │                              │
    │                              ▼
    │                     ┌────────────────┐
    │                     │   GPIO Pins    │
    │                     │  34,35,36,4    │
    │                     └────────┬───────┘
    │                              │
    │                              ▼
    │     ┌────────────────────────────────────────────────────────────┐
    │     │                   PROCESSING LAYER                         │
    │     │                                                            │
    │     │              ┌───────────────────────┐                     │
    │     │              │    ESP32-WROOM-32     │                     │
    │     │              │ Dual-Core 240MHz      │                     │
    │     │              │ 520KB SRAM, WiFi      │                     │
    │     │              └───────────┬───────────┘                     │
    │     │                          │                                 │
    │     │        ┌─────────────────┼─────────────────┐               │
    │     │        │                 │                 │               │
    │     │        ▼                 ▼                 ▼               │
    │     │  ┌──────────┐    ┌──────────┐    ┌──────────┐             │
    │     │  │   Data   │    │Irrigation│    │   WiFi   │             │
    │     │  │Acquisition    │ Control  │    │   Comm   │             │
    │     │  │  Module  │    │ Module   │    │  Module  │             │
    │     │  └────┬─────┘    └────┬─────┘    └────┬─────┘             │
    │     │       │               │               │                   │
    │     │       └───────────────┼───────────────┘                   │
    │     │                       │                                   │
    │     └───────────────────────┼───────────────────────────────────┘
    │                             │
    │                             ▼
    │     ┌───────────────────────────────────────────────────────────┐
    │     │                   ACTUATION LAYER                         │
    │     │                                                           │
    │     │   ┌─────────────────┐       ┌─────────────────┐          │
    │     │   │  Local Display  │       │ Cloud Interface │          │
    │     │   │                 │       │                 │          │
    │     │   │  ┌───────────┐  │       │  ┌───────────┐  │          │
    │     │   │  │ 16×2 LCD  │  │       │  │   WiFi    │  │          │
    │     │   │  │ (I2C)     │  │       │  │  Network  │  │          │
    │     │   │  └───────────┘  │       │  └─────┬─────┘  │          │
    │     │   │                 │       │        │        │          │
    │     │   │  ┌───────────┐  │       │        ▼        │          │
    │     │   │  │ 4× LEDs   │  │       │  ┌───────────┐  │          │
    │     │   │  │ R/G/B/Y   │  │       │  │  Cloud    │  │          │
    │     │   │  └───────────┘  │       │  │  Server   │  │          │
    │     │   │                 │       │  └───────────┘  │          │
    │     │   │  ┌───────────┐  │       │                 │          │
    │     │   │  │   Pump    │  │       │                 │          │
    │     │   │  │  Control  │  │       │                 │          │
    │     │   │  └───────────┘  │       │                 │          │
    │     │   └─────────────────┘       └─────────────────┘          │
    │     │                                                           │
    │     └───────────────────────────────────────────────────────────┘
    ]]>
</diagram>
